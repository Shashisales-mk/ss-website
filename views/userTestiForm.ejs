<% layout("/layouts/boilerplate") %>

    <style>
        .bl {
            background-color: black;
        }


        .whole-page {
            width: 100%;
            height: 105vh;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .testi-form {

            width: 400px;
            box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
            padding: 2rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 1rem;
        }

        .with {
            width: 100%;
            display: flex;
            gap: .5rem;

        }

        .with input {
            padding-block: .5rem;
        }

        .comment {
            width: 100%;
            height: 100px;
            border: 1px solid black;
            font-size: 1rem;
        }

        .sub-btn {
            font-size: 1rem;

            background: rgb(196, 200, 0);
            border: none;
            border-radius: 2vw;
            padding: .5rem 2rem;
        }

        .comment::placeholder {
            font-size: 1rem;
        }

        #charCount {
            font-size: 0.8rem;
            color: #666;
            margin-top: 0.5rem;
            display: block;
        }



        @media screen and (max-width:460px) {
            .whole-page {
                padding-inline: 1rem;
                margin-top: 0;
                margin-bottom: .5rem;

            }

            .testi-form {
                width: 100%;
            }

            .with {
                flex-direction: column;
            }
        }
    </style>

    <div class="whole-page">
        <h2>Please Leave Your Review!</h2>
        <form action="/user/add-testimonial" method="POST" enctype="multipart/form-data" class="testi-form">
            <fieldset class="starability-fade rate-fi">
                <input type="radio" id="no-rate" class="input-no-rate" name="rating" value="0" checked
                    aria-label="No rating." />
                <input type="radio" id="first-rate1" name="rating" value="1" />
                <label for="first-rate1" title="Terrible">1 star</label>
                <input type="radio" id="first-rate2" name="rating" value="2" />
                <label for="first-rate2" title="Not good">2 stars</label>
                <input type="radio" id="first-rate3" name="rating" value="3" />
                <label for="first-rate3" title="Average">3 stars</label>
                <input type="radio" id="first-rate4" name="rating" value="4" />
                <label for="first-rate4" title="Very good">4 stars</label>
                <input type="radio" id="first-rate5" name="rating" value="5" />
                <label for="first-rate5" title="Amazing">5 stars</label>
            </fieldset>
            <div class="with">
                <input type="text" name="name" placeholder="Enter Your Name" required>
                <input type="file" name="image">
            </div>
            <textarea name="text" class="comment" placeholder="Leave Your Comment!" required maxlength="250"
                oninput="updateCharCount(this)"></textarea>
            <span id="charCount">0 / 250 characters</span>

            <button type="submit" class="sub-btn">Add Testimonial</button>
        </form>
    </div>

    <script>
        function updateCharCount(textarea) {
            const maxLength = textarea.getAttribute("maxlength");
            const currentLength = textarea.value.length;
            document.getElementById("charCount").innerText = `${currentLength} / ${maxLength} characters`;
        }
    </script>